<!doctype html>
<html>
<head>
	<title>MediaTek System Recovery Mode</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>
<body>
	<div id="banner">
		MediaTek U-Boot System Recovery Mode
	</div>
	<div id="main">
		<p>Upload new firmware:</p>
		<form action="/upload" method="post" enctype="multipart/form-data">
			<p><label for="firmware_type">Choose the firmware target:</label></p>
			<select name="fw_type" id="firmware_type" onchange="updateFileInputName()">
				<option value="firmware">Firmware in FIP format</option>
				<option value="uboot">Arm Trusted Firmware and U-Boot</option>
				<option value="bl2">Preload bootloader</option>
				<option value="gpt">GPT partition table</option>
				<option value="legacy">Firmware in legacy format</option>
			</select>
			<p><input type="file" id="file_input" accept=".fip,.itb,.bin" /></p>
			<p><input type="submit" id="submit" value="Upload" /></p>
		</form>
	</div>
	<script>
		function updateFileInputName() {
			const selectElement = document.getElementById('firmware_type');
			const fileInputElement = document.getElementById('file_input');
			fileInputElement.name = selectElement.value;
		}
	</script>
</body>
</html>
